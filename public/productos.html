<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MasAgua - Productos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Manrope', 'sans-serif'],
          },
          colors: {
            darkBlue: '#1e293b',
            lightBlue: '#7dd3fc',
            hoverBlue: '#38bdf8',
            bgLight: '#f4f6f8',
            textDark: '#1f2937',
          }
        }
      }
    };
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body class="bg-bgLight text-textDark font-sans">

  <!-- Header -->
  <header class="bg-darkBlue text-white shadow-md">
    <div class="container mx-auto flex justify-between items-center p-4">
      <h1 class="text-2xl font-bold tracking-wide">MasAgua</h1>
      <nav class="space-x-6 hidden md:flex text-sm uppercase">
        <a href="index.html" class="hover:text-lightBlue">Inicio</a>
        <a href="productos.html" class="hover:text-lightBlue">Productos</a>
        <a href="#" class="hover:text-lightBlue">Nosotros</a>
        <a href="#" class="hover:text-lightBlue">Contacto</a>
      </nav>

      <!-- Icono carrito con contador -->
      <button onclick="toggleCarrito()" class="relative text-lightBlue hover:text-hoverBlue focus:outline-none">
        🛒 <span id="carrito-contador" class="ml-1 font-bold">(0)</span>
      </button>
    </div>
  </header>

  <!-- Dropdown carrito -->
  <div  id="carrito-dropdown" class="hidden fixed top-16 right-4 w-80 bg-white shadow-lg rounded-md p-4 z-50">
    <h3 class="font-bold mb-2 text-darkBlue text-lg">Carrito de compras</h3>
    <ul id="lista-carrito" class="max-h-48 overflow-y-auto mb-4 space-y-2"></ul>
    <p class="font-semibold text-darkBlue">Total: $<span id="total-carrito">0</span></p>
    <div class="flex justify-between mt-4">
      <button onclick="vaciarCarrito()" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition">Vaciar</button>
      <button onclick="finalizarCompra()" class="bg-lightBlue text-darkBlue px-3 py-1 rounded hover:bg-hoverBlue transition">Finalizar compra</button>
    </div>
  </div>

  <!-- Productos -->
  <section class="py-20 bg-[#f9fafb]">
    <div class="container mx-auto px-4">
      <h2 class="text-4xl font-bold text-center text-darkBlue mb-12">Nuestros Productos</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 items-stretch">
        
        <!-- Título de sección: Bidones -->
<div class="col-span-full mb-4 mt-8">
  <h3 class="text-2xl font-bold text-darkBlue border-b-2 border-lightBlue inline-block pb-1">
    Bidones
  </h3>
</div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full" >
          <img src="img/bidon5.webp" class="mx-auto mb-4 w-32" alt="Bidón 5 Litros" />
          <h3 class="text-xl font-semibold">Bidón 5 Litros</h3>
          <p class="text-gray-600">Compacto y práctico para uso diario.</p>
          <span class="text-lightBlue text-lg font-bold">$1.000</span><br />
          <button onclick="agregarAlCarrito('Bidón 5 Litros', 1000, 'img/bidon5.webp')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full" >
          <img src="img/bidon10.jpg" class="mx-auto mb-4 w-32" alt="Bidón 10 Litros" />
          <h3 class="text-xl font-semibold">Bidón 10 Litros</h3>
          <p class="text-gray-600">Perfecto para familias medianas.</p>
          <span class="text-lightBlue text-lg font-bold">$1.500</span><br />
          <button onclick="agregarAlCarrito('Bidón 10 Litros', 1500, 'img/bidon10.jpg')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full">
          <img src="img/bidon20.jpg" class="mx-auto mb-4 w-32" alt="Bidón 20 Litros" />
          <h3 class="text-xl font-semibold">Bidón 20 Litros</h3>
          <p class="text-gray-600">Ideal para oficinas o eventos.</p>
          <span class="text-lightBlue text-lg font-bold">$2.000</span><br />
          <button onclick="agregarAlCarrito('Bidón 20 Litros', 2000, 'img/bidon20.jpg')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <!-- Título de sección: Dispensadores -->
<div class="col-span-full mb-4 mt-8">
  <h3 class="text-2xl font-bold text-darkBlue border-b-2 border-lightBlue inline-block pb-1">
    Dispensadores
  </h3>
</div>

        <!-- Dispensadores -->
        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full">
          <img src="img/dispensador-electrico-chico.jpg" class="mx-auto mb-4 w-32" alt="Dispensador Eléctrico" />
          <h3 class="text-xl font-semibold">Dispensador Eléctrico</h3>
          <p class="text-gray-600">Cómodo y moderno con botón táctil.</p>
          <span class="text-lightBlue text-lg font-bold">$5.000</span><br />
          <button onclick="agregarAlCarrito('Dispensador Eléctrico', 5000, 'img/dispensador-electrico-chico')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full">
          <img src="img/dispensador-sobremesa.jpg" class="mx-auto mb-4 w-32" alt="Dispensador Chico" />
          <h3 class="text-xl font-semibold">Dispensador Básico Sobremesa</h3>
          <p class="text-gray-600">Compacto y portátil.</p>
          <span class="text-lightBlue text-lg font-bold">$15.000</span><br />
          <button onclick="agregarAlCarrito('Dispensador Chico', 15000, 'img/dispensador-sobremesa')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full">
          <img src="img/dispensador-sobremesa-electrico.jpg" class="mx-auto mb-4 w-32" alt="Dispensador Básico" />
          <h3 class="text-xl font-semibold">Dispensador Eléctrico Sobremesa</h3>
          <p class="text-gray-600">Agua fría y caliente.</p>
          <span class="text-lightBlue text-lg font-bold">$65.000</span><br />
          <button onclick="agregarAlCarrito('Dispensador Básico', 65000, 'img/dispensador-sobremesa-electrico')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full">
          <img src="img/dispensador-pedestal.jpeg" class="mx-auto mb-4 w-32" alt="Dispensador Básico" />
          <h3 class="text-xl font-semibold">Dispensador Pedestal</h3>
          <p class="text-gray-600">Ideal para oficinas.</p>
          <span class="text-lightBlue text-lg font-bold">$75.000</span><br />
          <button onclick="agregarAlCarrito('Dispensador Básico', 75000, 'img/dispensador-pedestal')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full">
          <img src="img/dispensador-control-temperatura.jpg" class="mx-auto mb-4 w-32" alt="Dispensador Básico" />
          <h3 class="text-xl font-semibold">Dispensador Básico</h3>
          <p class="text-gray-600">Controla temperatura del agua.</p>
          <span class="text-lightBlue text-lg font-bold">$100.000</span><br />
          <button onclick="agregarAlCarrito('Dispensador Básico', 100000, 'img/dispensador-control-temperatura')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md p-6 text-center hover:shadow-lg transition flex flex-col justify-between h-full">
          <img src="img/dispensador-bidon-oculto.jpg" class="mx-auto mb-4 w-32" alt="Dispensador Básico" />
          <h3 class="text-xl font-semibold">Dispensador Básico</h3>
          <p class="text-gray-600">Mejora estética visual.</p>
          <span class="text-lightBlue text-lg font-bold">$165.000</span><br />
          <button onclick="agregarAlCarrito('Dispensador Básico', 165000, 'img/dispensador-bidon-oculto')" class="mt-4 bg-lightBlue text-darkBlue px-4 py-2 rounded-md hover:bg-hoverBlue transition">
            Agregar al carrito
          </button>
        </div>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-darkBlue text-white py-8 mt-16">
    <div class="container mx-auto px-4 text-center text-sm opacity-80">
      <p>&copy; 2025 MasAgua. Hidratación con propósito. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script>
    let carrito = [];
    let total = 0;

    function agregarAlCarrito(nombre, precio, imagen) {
      carrito.push({ nombre, precio, imagen });
      total += precio;
      localStorage.setItem("carrito", JSON.stringify(carrito));
      localStorage.setItem("total", total);
      actualizarCarrito();
    }

    function actualizarCarrito() {
      const listaCarrito = document.getElementById("lista-carrito");
      const totalCarrito = document.getElementById("total-carrito");
      listaCarrito.innerHTML = "";

      carrito.forEach((producto, index) => {
        const li = document.createElement("li");
        li.className = "flex items-center justify-between";
        li.innerHTML = `
          <div class="flex items-center space-x-2">
            <img src="${producto.imagen}" alt="${producto.nombre}" width="50" class="rounded" />
            <span>${producto.nombre} - $${producto.precio}</span>
          </div>
          <button onclick="eliminarProducto(${index})" class="text-red-500 hover:text-red-700">❌</button>
        `;
        listaCarrito.appendChild(li);
      });

      totalCarrito.textContent = total;

      actualizarContadorCarrito();
    }

    function actualizarContadorCarrito() {
      const contador = document.getElementById("carrito-contador");
      contador.textContent = `(${carrito.length})`;
    }

    function eliminarProducto(index) {
      total -= carrito[index].precio;
      carrito.splice(index, 1);
      actualizarCarrito();
    }

    function vaciarCarrito() {
      carrito = [];
      total = 0;
      actualizarCarrito();
    }

    function finalizarCompra() {
      if (carrito.length === 0) {
        alert("El carrito está vacío 😅");
        return;
      }
      alert("¡Compra finalizada! Gracias por tu compra 💙");
      vaciarCarrito();
    }

    function toggleCarrito() {
      const dropdown = document.getElementById("carrito-dropdown");
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    }

    window.onload = function () {
      const carritoGuardado = localStorage.getItem("carrito");
      const totalGuardado = localStorage.getItem("total");

      if (carritoGuardado) {
        carrito = JSON.parse(carritoGuardado);
        total = parseFloat(totalGuardado) || 0;
        actualizarCarrito();
      } else {
        actualizarContadorCarrito();
      }
    };
  </script>

</body>
</html>
